<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="./css/leaflet.css">
    <link rel="stylesheet" href="./css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="./css/L.Control.Locate.min.css">
    <link rel="stylesheet" href="./css/qgis2web.css">
    <link rel="stylesheet" href="./css/fontawesome-all.min.css">
    <link rel="stylesheet" href="./css/filter.css">
    <link rel="stylesheet" href="./css/nouislider.min.css">
    <link rel="stylesheet" href="./css/leaflet-measure.css">
    <link rel="stylesheet" href="./css/custom.css">


    <style>
        html,
        body,
        #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }

        #fileInput {
            margin: 10px;
        }
    </style>



    <title></title>
</head>

<body>


    <div id="map">
        <h1 id="page-title">GEOQuery - Maron Ambiental</h1>

        <img id="logo" src="./images/Logo_vertical_P_FundoBranco.png" alt="Logo Maron GEOAMB">
        <div id="fileInputContainer"
            style="position: absolute; bottom: 10px; left: 10px; z-index: 1000; background: white; padding: 10px; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.3);">
            <input type="file" id="fileInput" accept=".kml, .kmz" style="margin-bottom: 10px;">
            <button id="loadFile"
                style="padding: 5px 10px; background: #00a8a5; color: white; border: none; border-radius: 3px; cursor: pointer;">Carregar
                KML/KMZ</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script
        src="https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js"></script>
    <script src="./js/qgis2web_expressions.js"></script>
    <script src="./js/leaflet.js"></script>
    <script src="./js/L.Control.Layers.Tree.min.js"></script>
    <script src="./js/L.Control.Locate.min.js"></script>
    <script src="./js/leaflet-svg-shape-markers.min.js"></script>
    <script src="./js/leaflet.rotatedMarker.js"></script>
    <script src="./js/leaflet.pattern.js"></script>
    <script src="./js/leaflet-hash.js"></script>
    <script src="./js/Autolinker.min.js"></script>
    <script src="./js/rbush.min.js"></script>
    <script src="./js/labelgun.min.js"></script>
    <script src="./js/labels.js"></script>
    <script src="./js/leaflet-measure.js"></script>
    <script src="./js/tailDT.js"></script>
    <script src="./js/nouislider.min.js"></script>
    <script src="./js/wNumb.js"></script>
    <script src="./data/PotencialEspeleolgico_1.js"></script>
    <script src="./data/PolgonodeProteodaMataAtlntica_2.js"></script>
    <script src="./data/ComunidadesRemanescentesdeQuilombosINCRA_3.js"></script>
    <script src="./data/TerrasIndgenas_4.js"></script>
    <script src="./data/Assentamentos_5.js"></script>
    <script src="./data/reasdeImportnciaparaAvesMigratrias_6.js"></script>
    <script src="./data/LimiteEstadual_7.js"></script>
    <script src="./data/HidrografiaRN_8.js"></script>
    <script src="./data/HidrografiaPI_9.js"></script>
    <script src="./data/HidrografiaPE_10.js"></script>
    <script src="./data/HidrografiaPB_11.js"></script>
    <script src="./data/HidrografiaMS_12.js"></script>
    <script src="./data/HidrografiaMA_13.js"></script>
    <script src="./data/HidrografiaSE_14.js"></script>
    <script src="./data/HidrografiaGO_15.js"></script>
    <script src="./data/HidrografiaCE_16.js"></script>
    <script src="./data/HidrografiaBA_17.js"></script>
    <script src="./data/HidrografiaAL_18.js"></script>
    <script src="./data/RotasMigratorias_19.js"></script>
    <script src="./data/StiosArqueolgicos_20.js"></script>
    <script src="./data/ComunidadesRemanescentesdeQuilombosFCP_21.js"></script>
    <script>
        var map = L.map('map', {
            zoomControl: false, maxZoom: 28, minZoom: 1
        }).fitBounds([[-25.32971327814089, -63.20853582545971], [3.2132781960328893, -28.12518266853622]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({ truncate: { length: 30, location: 'smart' } });
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var rows = tempDiv.querySelectorAll('tr');
            for (var i = 0; i < rows.length; i++) {
                var td = rows[i].querySelector('td.visible-with-data');
                var key = td ? td.id : '';
                if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                    rows[i].parentNode.removeChild(rows[i]);
                }
            }
            return tempDiv.innerHTML;
        }


        // add class to format popup if it contains media
        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            if (tempDiv.querySelector('td img')) {
                popup._contentNode.classList.add('media');
                // Delay to force the redraw
                setTimeout(function () {
                    popup.update();
                }, 10);
            } else {
                popup._contentNode.classList.remove('media');
            }
        }
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        L.control.locate({ locateOptions: { maxZoom: 19 } }).addTo(map);
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'hectares'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0].innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0].className += ' fas fa-ruler';
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_GoogleSatellite_0');
        map.getPane('pane_GoogleSatellite_0').style.zIndex = 400;
        var layer_GoogleSatellite_0 = L.tileLayer('https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
            pane: 'pane_GoogleSatellite_0',
            opacity: 1.0,
            attribution: '<a href="https://www.google.at/permissions/geoguidelines/attr-guide.html">Map data ©2015 Google</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 20
        });
        layer_GoogleSatellite_0;
        map.addLayer(layer_GoogleSatellite_0);
        function pop_PotencialEspeleolgico_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['GRAU_DE_PO'] !== null ? autolinker.link(feature.properties['GRAU_DE_PO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_PotencialEspeleolgico_1_0(feature) {
            switch (String(feature.properties['GRAU_DE_PO'])) {
                case 'Baixo':
                    return {
                        pane: 'pane_PotencialEspeleolgico_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,0.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(31,155,31,0.6)',
                        interactive: true,
                    }
                    break;
                case 'Médio':
                    return {
                        pane: 'pane_PotencialEspeleolgico_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,0.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(212,144,26,0.6)',
                        interactive: true,
                    }
                    break;
                case 'Alto':
                    return {
                        pane: 'pane_PotencialEspeleolgico_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,0.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(224,79,79,0.6)',
                        interactive: true,
                    }
                    break;
                case 'Muito Alto':
                    return {
                        pane: 'pane_PotencialEspeleolgico_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,0.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(118,11,11,0.6)',
                        interactive: true,
                    }
                    break;
                case 'Ocorrência Improvável':
                    return {
                        pane: 'pane_PotencialEspeleolgico_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,0.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(125,125,125,0.6)',
                        interactive: true,
                    }
                    break;
                default:
                    return {
                        pane: 'pane_PotencialEspeleolgico_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(138,223,95,1.0)',
                        interactive: true,
                    }
                    break;
            }
        }
        map.createPane('pane_PotencialEspeleolgico_1');
        map.getPane('pane_PotencialEspeleolgico_1').style.zIndex = 401;
        map.getPane('pane_PotencialEspeleolgico_1').style['mix-blend-mode'] = 'normal';
        var layer_PotencialEspeleolgico_1 = new L.geoJson(json_PotencialEspeleolgico_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_PotencialEspeleolgico_1',
            layerName: 'layer_PotencialEspeleolgico_1',
            pane: 'pane_PotencialEspeleolgico_1',
            onEachFeature: pop_PotencialEspeleolgico_1,
            style: style_PotencialEspeleolgico_1_0,
        });
        bounds_group.addLayer(layer_PotencialEspeleolgico_1);
        function pop_PolgonodeProteodaMataAtlntica_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OBJECTID_1'] !== null ? autolinker.link(feature.properties['OBJECTID_1'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape_Leng'] !== null ? autolinker.link(feature.properties['Shape_Leng'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape_Area'] !== null ? autolinker.link(feature.properties['Shape_Area'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_PolgonodeProteodaMataAtlntica_2_0() {
            return {
                pane: 'pane_PolgonodeProteodaMataAtlntica_2',
                opacity: 1,
                color: 'rgba(35,229,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(166,245,60,0.7647058823529411)',
                interactive: true,
            }
        }
        map.createPane('pane_PolgonodeProteodaMataAtlntica_2');
        map.getPane('pane_PolgonodeProteodaMataAtlntica_2').style.zIndex = 402;
        map.getPane('pane_PolgonodeProteodaMataAtlntica_2').style['mix-blend-mode'] = 'normal';
        var layer_PolgonodeProteodaMataAtlntica_2 = new L.geoJson(json_PolgonodeProteodaMataAtlntica_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_PolgonodeProteodaMataAtlntica_2',
            layerName: 'layer_PolgonodeProteodaMataAtlntica_2',
            pane: 'pane_PolgonodeProteodaMataAtlntica_2',
            onEachFeature: pop_PolgonodeProteodaMataAtlntica_2,
            style: style_PolgonodeProteodaMataAtlntica_2_0,
        });
        bounds_group.addLayer(layer_PolgonodeProteodaMataAtlntica_2);
        function pop_ComunidadesRemanescentesdeQuilombosINCRA_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['nm_comunid'] !== null ? autolinker.link(feature.properties['nm_comunid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_ComunidadesRemanescentesdeQuilombosINCRA_3_0() {
            return {
                pane: 'pane_ComunidadesRemanescentesdeQuilombosINCRA_3',
                opacity: 1,
                color: 'rgba(224,177,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(224,214,33,0.7803921568627451)',
                interactive: true,
            }
        }
        map.createPane('pane_ComunidadesRemanescentesdeQuilombosINCRA_3');
        map.getPane('pane_ComunidadesRemanescentesdeQuilombosINCRA_3').style.zIndex = 403;
        map.getPane('pane_ComunidadesRemanescentesdeQuilombosINCRA_3').style['mix-blend-mode'] = 'normal';
        var layer_ComunidadesRemanescentesdeQuilombosINCRA_3 = new L.geoJson(json_ComunidadesRemanescentesdeQuilombosINCRA_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_ComunidadesRemanescentesdeQuilombosINCRA_3',
            layerName: 'layer_ComunidadesRemanescentesdeQuilombosINCRA_3',
            pane: 'pane_ComunidadesRemanescentesdeQuilombosINCRA_3',
            onEachFeature: pop_ComunidadesRemanescentesdeQuilombosINCRA_3,
            style: style_ComunidadesRemanescentesdeQuilombosINCRA_3_0,
        });
        bounds_group.addLayer(layer_ComunidadesRemanescentesdeQuilombosINCRA_3);
        function pop_TerrasIndgenas_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['terrai_nom'] !== null ? autolinker.link(feature.properties['terrai_nom'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_TerrasIndgenas_4_0() {
            return {
                pane: 'pane_TerrasIndgenas_4',
                opacity: 1,
                color: 'rgba(200,73,172,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(247,139,143,0.7803921568627451)',
                interactive: true,
            }
        }
        map.createPane('pane_TerrasIndgenas_4');
        map.getPane('pane_TerrasIndgenas_4').style.zIndex = 404;
        map.getPane('pane_TerrasIndgenas_4').style['mix-blend-mode'] = 'normal';
        var layer_TerrasIndgenas_4 = new L.geoJson(json_TerrasIndgenas_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_TerrasIndgenas_4',
            layerName: 'layer_TerrasIndgenas_4',
            pane: 'pane_TerrasIndgenas_4',
            onEachFeature: pop_TerrasIndgenas_4,
            style: style_TerrasIndgenas_4_0,
        });
        bounds_group.addLayer(layer_TerrasIndgenas_4);
        function pop_Assentamentos_5(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['nome_proje'] !== null ? autolinker.link(feature.properties['nome_proje'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Assentamentos_5_0() {
            return {
                pane: 'pane_Assentamentos_5',
                opacity: 1,
                color: 'rgba(139,85,19,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(246,190,89,0.7803921568627451)',
                interactive: true,
            }
        }
        map.createPane('pane_Assentamentos_5');
        map.getPane('pane_Assentamentos_5').style.zIndex = 405;
        map.getPane('pane_Assentamentos_5').style['mix-blend-mode'] = 'normal';
        var layer_Assentamentos_5 = new L.geoJson(json_Assentamentos_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Assentamentos_5',
            layerName: 'layer_Assentamentos_5',
            pane: 'pane_Assentamentos_5',
            onEachFeature: pop_Assentamentos_5,
            style: style_Assentamentos_5_0,
        });
        bounds_group.addLayer(layer_Assentamentos_5);
        function pop_reasdeImportnciaparaAvesMigratrias_6(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_reasdeImportnciaparaAvesMigratrias_6_0() {
            return {
                pane: 'pane_reasdeImportnciaparaAvesMigratrias_6',
                opacity: 1,
                color: 'rgba(78,35,231,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(127,0,245,0.6039215686274509)',
                interactive: true,
            }
        }
        map.createPane('pane_reasdeImportnciaparaAvesMigratrias_6');
        map.getPane('pane_reasdeImportnciaparaAvesMigratrias_6').style.zIndex = 406;
        map.getPane('pane_reasdeImportnciaparaAvesMigratrias_6').style['mix-blend-mode'] = 'normal';
        var layer_reasdeImportnciaparaAvesMigratrias_6 = new L.geoJson(json_reasdeImportnciaparaAvesMigratrias_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_reasdeImportnciaparaAvesMigratrias_6',
            layerName: 'layer_reasdeImportnciaparaAvesMigratrias_6',
            pane: 'pane_reasdeImportnciaparaAvesMigratrias_6',
            onEachFeature: pop_reasdeImportnciaparaAvesMigratrias_6,
            style: style_reasdeImportnciaparaAvesMigratrias_6_0,
        });
        bounds_group.addLayer(layer_reasdeImportnciaparaAvesMigratrias_6);
        function pop_LimiteEstadual_7(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NM_UF'] !== null ? autolinker.link(feature.properties['NM_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_LimiteEstadual_7_0() {
            return {
                pane: 'pane_LimiteEstadual_7',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 3.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(232,113,141,0.0)',
                interactive: true,
            }
        }
        map.createPane('pane_LimiteEstadual_7');
        map.getPane('pane_LimiteEstadual_7').style.zIndex = 407;
        map.getPane('pane_LimiteEstadual_7').style['mix-blend-mode'] = 'normal';
        var layer_LimiteEstadual_7 = new L.geoJson(json_LimiteEstadual_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LimiteEstadual_7',
            layerName: 'layer_LimiteEstadual_7',
            pane: 'pane_LimiteEstadual_7',
            onEachFeature: pop_LimiteEstadual_7,
            style: style_LimiteEstadual_7_0,
        });
        bounds_group.addLayer(layer_LimiteEstadual_7);
        map.addLayer(layer_LimiteEstadual_7);
        function pop_HidrografiaRN_8(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaRN_8_0() {
            return {
                pane: 'pane_HidrografiaRN_8',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaRN_8');
        map.getPane('pane_HidrografiaRN_8').style.zIndex = 408;
        map.getPane('pane_HidrografiaRN_8').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaRN_8 = new L.geoJson(json_HidrografiaRN_8, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaRN_8',
            layerName: 'layer_HidrografiaRN_8',
            pane: 'pane_HidrografiaRN_8',
            onEachFeature: pop_HidrografiaRN_8,
            style: style_HidrografiaRN_8_0,
        });
        bounds_group.addLayer(layer_HidrografiaRN_8);
        function pop_HidrografiaPI_9(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaPI_9_0() {
            return {
                pane: 'pane_HidrografiaPI_9',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaPI_9');
        map.getPane('pane_HidrografiaPI_9').style.zIndex = 409;
        map.getPane('pane_HidrografiaPI_9').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaPI_9 = new L.geoJson(json_HidrografiaPI_9, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaPI_9',
            layerName: 'layer_HidrografiaPI_9',
            pane: 'pane_HidrografiaPI_9',
            onEachFeature: pop_HidrografiaPI_9,
            style: style_HidrografiaPI_9_0,
        });
        bounds_group.addLayer(layer_HidrografiaPI_9);
        function pop_HidrografiaPE_10(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaPE_10_0() {
            return {
                pane: 'pane_HidrografiaPE_10',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaPE_10');
        map.getPane('pane_HidrografiaPE_10').style.zIndex = 410;
        map.getPane('pane_HidrografiaPE_10').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaPE_10 = new L.geoJson(json_HidrografiaPE_10, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaPE_10',
            layerName: 'layer_HidrografiaPE_10',
            pane: 'pane_HidrografiaPE_10',
            onEachFeature: pop_HidrografiaPE_10,
            style: style_HidrografiaPE_10_0,
        });
        bounds_group.addLayer(layer_HidrografiaPE_10);
        function pop_HidrografiaPB_11(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaPB_11_0() {
            return {
                pane: 'pane_HidrografiaPB_11',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaPB_11');
        map.getPane('pane_HidrografiaPB_11').style.zIndex = 411;
        map.getPane('pane_HidrografiaPB_11').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaPB_11 = new L.geoJson(json_HidrografiaPB_11, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaPB_11',
            layerName: 'layer_HidrografiaPB_11',
            pane: 'pane_HidrografiaPB_11',
            onEachFeature: pop_HidrografiaPB_11,
            style: style_HidrografiaPB_11_0,
        });
        bounds_group.addLayer(layer_HidrografiaPB_11);
        function pop_HidrografiaMS_12(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaMS_12_0() {
            return {
                pane: 'pane_HidrografiaMS_12',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaMS_12');
        map.getPane('pane_HidrografiaMS_12').style.zIndex = 412;
        map.getPane('pane_HidrografiaMS_12').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaMS_12 = new L.geoJson(json_HidrografiaMS_12, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaMS_12',
            layerName: 'layer_HidrografiaMS_12',
            pane: 'pane_HidrografiaMS_12',
            onEachFeature: pop_HidrografiaMS_12,
            style: style_HidrografiaMS_12_0,
        });
        bounds_group.addLayer(layer_HidrografiaMS_12);
        function pop_HidrografiaMA_13(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaMA_13_0() {
            return {
                pane: 'pane_HidrografiaMA_13',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaMA_13');
        map.getPane('pane_HidrografiaMA_13').style.zIndex = 413;
        map.getPane('pane_HidrografiaMA_13').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaMA_13 = new L.geoJson(json_HidrografiaMA_13, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaMA_13',
            layerName: 'layer_HidrografiaMA_13',
            pane: 'pane_HidrografiaMA_13',
            onEachFeature: pop_HidrografiaMA_13,
            style: style_HidrografiaMA_13_0,
        });
        bounds_group.addLayer(layer_HidrografiaMA_13);
        function pop_HidrografiaSE_14(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaSE_14_0() {
            return {
                pane: 'pane_HidrografiaSE_14',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaSE_14');
        map.getPane('pane_HidrografiaSE_14').style.zIndex = 414;
        map.getPane('pane_HidrografiaSE_14').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaSE_14 = new L.geoJson(json_HidrografiaSE_14, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaSE_14',
            layerName: 'layer_HidrografiaSE_14',
            pane: 'pane_HidrografiaSE_14',
            onEachFeature: pop_HidrografiaSE_14,
            style: style_HidrografiaSE_14_0,
        });
        bounds_group.addLayer(layer_HidrografiaSE_14);
        function pop_HidrografiaGO_15(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaGO_15_0() {
            return {
                pane: 'pane_HidrografiaGO_15',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaGO_15');
        map.getPane('pane_HidrografiaGO_15').style.zIndex = 415;
        map.getPane('pane_HidrografiaGO_15').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaGO_15 = new L.geoJson(json_HidrografiaGO_15, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaGO_15',
            layerName: 'layer_HidrografiaGO_15',
            pane: 'pane_HidrografiaGO_15',
            onEachFeature: pop_HidrografiaGO_15,
            style: style_HidrografiaGO_15_0,
        });
        bounds_group.addLayer(layer_HidrografiaGO_15);
        function pop_HidrografiaCE_16(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaCE_16_0() {
            return {
                pane: 'pane_HidrografiaCE_16',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaCE_16');
        map.getPane('pane_HidrografiaCE_16').style.zIndex = 416;
        map.getPane('pane_HidrografiaCE_16').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaCE_16 = new L.geoJson(json_HidrografiaCE_16, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaCE_16',
            layerName: 'layer_HidrografiaCE_16',
            pane: 'pane_HidrografiaCE_16',
            onEachFeature: pop_HidrografiaCE_16,
            style: style_HidrografiaCE_16_0,
        });
        bounds_group.addLayer(layer_HidrografiaCE_16);
        function pop_HidrografiaBA_17(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaBA_17_0() {
            return {
                pane: 'pane_HidrografiaBA_17',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaBA_17');
        map.getPane('pane_HidrografiaBA_17').style.zIndex = 417;
        map.getPane('pane_HidrografiaBA_17').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaBA_17 = new L.geoJson(json_HidrografiaBA_17, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaBA_17',
            layerName: 'layer_HidrografiaBA_17',
            pane: 'pane_HidrografiaBA_17',
            onEachFeature: pop_HidrografiaBA_17,
            style: style_HidrografiaBA_17_0,
        });
        bounds_group.addLayer(layer_HidrografiaBA_17);
        function pop_HidrografiaAL_18(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_HidrografiaAL_18_0() {
            return {
                pane: 'pane_HidrografiaAL_18',
                opacity: 1,
                color: 'rgba(51,92,240,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_HidrografiaAL_18');
        map.getPane('pane_HidrografiaAL_18').style.zIndex = 418;
        map.getPane('pane_HidrografiaAL_18').style['mix-blend-mode'] = 'normal';
        var layer_HidrografiaAL_18 = new L.geoJson(json_HidrografiaAL_18, {
            attribution: '',
            interactive: true,
            dataVar: 'json_HidrografiaAL_18',
            layerName: 'layer_HidrografiaAL_18',
            pane: 'pane_HidrografiaAL_18',
            onEachFeature: pop_HidrografiaAL_18,
            style: style_HidrografiaAL_18_0,
        });
        bounds_group.addLayer(layer_HidrografiaAL_18);
        function pop_RotasMigratorias_19(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Nome_Rota'] !== null ? autolinker.link(feature.properties['Nome_Rota'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_RotasMigratorias_19_0() {
            return {
                pane: 'pane_RotasMigratorias_19',
                opacity: 1,
                color: 'rgba(243,13,16,1.0)',
                dashArray: '',
                lineCap: 'round',
                lineJoin: 'round',
                weight: 3.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_RotasMigratorias_19');
        map.getPane('pane_RotasMigratorias_19').style.zIndex = 419;
        map.getPane('pane_RotasMigratorias_19').style['mix-blend-mode'] = 'normal';
        var layer_RotasMigratorias_19 = new L.geoJson(json_RotasMigratorias_19, {
            attribution: '',
            interactive: true,
            dataVar: 'json_RotasMigratorias_19',
            layerName: 'layer_RotasMigratorias_19',
            pane: 'pane_RotasMigratorias_19',
            onEachFeature: pop_RotasMigratorias_19,
            style: style_RotasMigratorias_19_0,
        });
        bounds_group.addLayer(layer_RotasMigratorias_19);
        function pop_StiosArqueolgicos_20(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OBJECTID'] !== null ? autolinker.link(feature.properties['OBJECTID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['id_bem'] !== null ? autolinker.link(feature.properties['id_bem'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['identifica'] !== null ? autolinker.link(feature.properties['identifica'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['co_iphan'] !== null ? autolinker.link(feature.properties['co_iphan'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NM_UF'] !== null ? autolinker.link(feature.properties['NM_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_StiosArqueolgicos_20_0() {
            return {
                pane: 'pane_StiosArqueolgicos_20',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(151,253,72,0.8)',
                interactive: true,
            }
        }
        map.createPane('pane_StiosArqueolgicos_20');
        map.getPane('pane_StiosArqueolgicos_20').style.zIndex = 420;
        map.getPane('pane_StiosArqueolgicos_20').style['mix-blend-mode'] = 'normal';
        var layer_StiosArqueolgicos_20 = new L.geoJson(json_StiosArqueolgicos_20, {
            attribution: '',
            interactive: true,
            dataVar: 'json_StiosArqueolgicos_20',
            layerName: 'layer_StiosArqueolgicos_20',
            pane: 'pane_StiosArqueolgicos_20',
            onEachFeature: pop_StiosArqueolgicos_20,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_StiosArqueolgicos_20_0(feature));
            },
        });
        bounds_group.addLayer(layer_StiosArqueolgicos_20);
        function pop_ComunidadesRemanescentesdeQuilombosFCP_21(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Nome'] !== null ? autolinker.link(feature.properties['Nome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIGLA_UF'] !== null ? autolinker.link(feature.properties['SIGLA_UF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_ComunidadesRemanescentesdeQuilombosFCP_21_0() {
            return {
                pane: 'pane_ComunidadesRemanescentesdeQuilombosFCP_21',
                shape: 'square',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(214,85,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,139,49,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_ComunidadesRemanescentesdeQuilombosFCP_21');
        map.getPane('pane_ComunidadesRemanescentesdeQuilombosFCP_21').style.zIndex = 421;
        map.getPane('pane_ComunidadesRemanescentesdeQuilombosFCP_21').style['mix-blend-mode'] = 'normal';
        var layer_ComunidadesRemanescentesdeQuilombosFCP_21 = new L.geoJson(json_ComunidadesRemanescentesdeQuilombosFCP_21, {
            attribution: '',
            interactive: true,
            dataVar: 'json_ComunidadesRemanescentesdeQuilombosFCP_21',
            layerName: 'layer_ComunidadesRemanescentesdeQuilombosFCP_21',
            pane: 'pane_ComunidadesRemanescentesdeQuilombosFCP_21',
            onEachFeature: pop_ComunidadesRemanescentesdeQuilombosFCP_21,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_ComunidadesRemanescentesdeQuilombosFCP_21_0(feature));
            },
        });
        bounds_group.addLayer(layer_ComunidadesRemanescentesdeQuilombosFCP_21);
        var overlaysTree = [
            { label: '<img src="./legend/ComunidadesRemanescentesdeQuilombosFCP_21.png" /> Comunidades Remanescentes de Quilombos (FCP)', layer: layer_ComunidadesRemanescentesdeQuilombosFCP_21 },
            { label: '<img src="./legend/StiosArqueolgicos_20.png" /> Sítios Arqueológicos', layer: layer_StiosArqueolgicos_20 },
            { label: '<img src="./legend/RotasMigratorias_19.png" /> RotasMigratorias', layer: layer_RotasMigratorias_19 },
            {
                label: '<b>Hidrografia</b>', selectAllCheckbox: true, children: [
                    { label: '<img src="./legend/HidrografiaAL_18.png" /> Hidrografia AL', layer: layer_HidrografiaAL_18 },
                    { label: '<img src="./legend/HidrografiaBA_17.png" /> Hidrografia BA', layer: layer_HidrografiaBA_17 },
                    { label: '<img src="./legend/HidrografiaCE_16.png" /> Hidrografia CE', layer: layer_HidrografiaCE_16 },
                    { label: '<img src="./legend/HidrografiaGO_15.png" /> Hidrografia GO', layer: layer_HidrografiaGO_15 },
                    { label: '<img src="./legend/HidrografiaSE_14.png" /> Hidrografia SE', layer: layer_HidrografiaSE_14 },
                    { label: '<img src="./legend/HidrografiaMA_13.png" /> Hidrografia MA', layer: layer_HidrografiaMA_13 },
                    { label: '<img src="./legend/HidrografiaMS_12.png" /> Hidrografia MS', layer: layer_HidrografiaMS_12 },
                    { label: '<img src="./legend/HidrografiaPB_11.png" /> Hidrografia PB', layer: layer_HidrografiaPB_11 },
                    { label: '<img src="./legend/HidrografiaPE_10.png" /> Hidrografia PE', layer: layer_HidrografiaPE_10 },
                    { label: '<img src="./legend/HidrografiaPI_9.png" /> Hidrografia PI', layer: layer_HidrografiaPI_9 },
                    { label: '<img src="./legend/HidrografiaRN_8.png" /> Hidrografia RN', layer: layer_HidrografiaRN_8 },]
            },
            { label: '<img src="./legend/LimiteEstadual_7.png" /> Limite Estadual', layer: layer_LimiteEstadual_7 },
            { label: '<img src="./legend/reasdeImportnciaparaAvesMigratrias_6.png" /> Áreas de Importância para Aves Migratórias', layer: layer_reasdeImportnciaparaAvesMigratrias_6 },
            { label: '<img src="./legend/Assentamentos_5.png" /> Assentamentos', layer: layer_Assentamentos_5 },
            { label: '<img src="./legend/TerrasIndgenas_4.png" /> Terras Indígenas', layer: layer_TerrasIndgenas_4 },
            { label: '<img src="./legend/ComunidadesRemanescentesdeQuilombosINCRA_3.png" /> Comunidades Remanescentes de Quilombos (INCRA)', layer: layer_ComunidadesRemanescentesdeQuilombosINCRA_3 },
            { label: '<img src="./legend/PolgonodeProteodaMataAtlntica_2.png" /> Polígono de Proteção da Mata Atlântica', layer: layer_PolgonodeProteodaMataAtlntica_2 },
            { label: 'Potencial Espeleológico<br /><table><tr><td style="text-align: center;"><img src="./legend/PotencialEspeleolgico_1_Baixo0.png" /></td><td>Baixo</td></tr><tr><td style="text-align: center;"><img src="./legend/PotencialEspeleolgico_1_Médio1.png" /></td><td>Médio</td></tr><tr><td style="text-align: center;"><img src="./legend/PotencialEspeleolgico_1_Alto2.png" /></td><td>Alto</td></tr><tr><td style="text-align: center;"><img src="./legend/PotencialEspeleolgico_1_MuitoAlto3.png" /></td><td>Muito Alto</td></tr><tr><td style="text-align: center;"><img src="./legend/PotencialEspeleolgico_1_OcorrênciaImprovável4.png" /></td><td>Ocorrência Improvável</td></tr><tr><td style="text-align: center;"><img src="./legend/PotencialEspeleolgico_1_5.png" /></td><td></td></tr></table>', layer: layer_PotencialEspeleolgico_1 },
            { label: "Google Satellite", layer: layer_GoogleSatellite_0, radioGroup: 'bm' },]
        var lay = L.control.layers.tree(null, overlaysTree, {
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: true,
        });
        lay.addTo(map);
        setBounds();
        var mapDiv = document.getElementById('map');
        var row = document.createElement('div');
        row.className = "row";
        row.id = "all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className = "col9";
        col1.id = "mapWindow";
        col1.style.height = "99%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className = "col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)
        var Filters = { "SIGLA_UF": "str" };
        function filterFunc() {
            map.eachLayer(function (lyr) {
                if ("options" in lyr && "dataVar" in lyr["options"]) {
                    features = this[lyr["options"]["dataVar"]].features.slice(0);
                    try {
                        for (key in Filters) {
                            keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                            if (Filters[key] == "str" || Filters[key] == "bool") {
                                var selection = [];
                                var options = document.getElementById("sel_" + keyS).options
                                for (var i = 0; i < options.length; i++) {
                                    if (options[i].selected) selection.push(options[i].value);
                                }
                                try {
                                    if (key in features[0].properties) {
                                        for (i = features.length - 1;
                                            i >= 0; --i) {
                                            if (selection.indexOf(
                                                features[i].properties[key]) < 0
                                                && selection.length > 0) {
                                                features.splice(i, 1);
                                            }
                                        }
                                    }
                                } catch (err) {
                                }
                            }
                            if (Filters[key] == "int") {
                                sliderVals = document.getElementById(
                                    "div_" + keyS).noUiSlider.get();
                                try {
                                    if (key in features[0].properties) {
                                        for (i = features.length - 1; i >= 0; --i) {
                                            if (parseInt(features[i].properties[key])
                                                < sliderVals[0]
                                                || parseInt(features[i].properties[key])
                                                > sliderVals[1]) {
                                                features.splice(i, 1);
                                            }
                                        }
                                    }
                                } catch (err) {
                                }
                            }
                            if (Filters[key] == "real") {
                                sliderVals = document.getElementById(
                                    "div_" + keyS).noUiSlider.get();
                                try {
                                    if (key in features[0].properties) {
                                        for (i = features.length - 1; i >= 0; --i) {
                                            if (features[i].properties[key]
                                                < sliderVals[0]
                                                || features[i].properties[key]
                                                > sliderVals[1]) {
                                                features.splice(i, 1);
                                            }
                                        }
                                    }
                                } catch (err) {
                                }
                            }
                            if (Filters[key] == "date"
                                || Filters[key] == "datetime"
                                || Filters[key] == "time") {
                                try {
                                    if (key in features[0].properties) {
                                        HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                                        startdate = document.getElementById("dat_" +
                                            HTMLkey + "_date1").value.replace(" ", "T");
                                        enddate = document.getElementById("dat_" +
                                            HTMLkey + "_date2").value.replace(" ", "T");
                                        for (i = features.length - 1; i >= 0; --i) {
                                            if (features[i].properties[key] < startdate
                                                || features[i].properties[key] > enddate) {
                                                features.splice(i, 1);
                                            }
                                        }
                                    }
                                } catch (err) {
                                }
                            }
                        }
                    } catch (err) {
                    }
                    this[lyr["options"]["layerName"]].clearLayers();
                    this[lyr["options"]["layerName"]].addData(features);
                }
            })
        }
        document.getElementById("menu").appendChild(
            document.createElement("div")
        );

        var div_SIGLA_UF = document.createElement('div');
        div_SIGLA_UF.id = "div_SIGLA_UF";
        div_SIGLA_UF.className = "filterselect";
        document.getElementById("menu").appendChild(div_SIGLA_UF);

        // Adiciona o título do menu
        var tituloMenu = document.createElement("h2");
        tituloMenu.textContent = "Filtrar por Estado"; // Texto do título
        menu.insertBefore(tituloMenu, div_SIGLA_UF); // Insere o título antes do seletor

        sel_SIGLA_UF = document.createElement('select');
        sel_SIGLA_UF.multiple = true;
        sel_SIGLA_UF.size = 10;
        sel_SIGLA_UF.id = "sel_SIGLA_UF";
        var SIGLA_UF_options_str = "<option value='' unselected></option>";
        sel_SIGLA_UF.onchange = function () { filterFunc() };
        SIGLA_UF_options_str += '<option value="AL">AL</option>';
        SIGLA_UF_options_str += '<option value="BA">BA</option>';
        SIGLA_UF_options_str += '<option value="CE">CE</option>';
        SIGLA_UF_options_str += '<option value="GO">GO</option>';
        SIGLA_UF_options_str += '<option value="MA">MA</option>';
        SIGLA_UF_options_str += '<option value="MS">MS</option>';
        SIGLA_UF_options_str += '<option value="PB">PB</option>';
        SIGLA_UF_options_str += '<option value="PE">PE</option>';
        SIGLA_UF_options_str += '<option value="PI">PI</option>';
        SIGLA_UF_options_str += '<option value="RN">RN</option>';
        SIGLA_UF_options_str += '<option value="SE">SE</option>';
        sel_SIGLA_UF.innerHTML = SIGLA_UF_options_str;
        div_SIGLA_UF.appendChild(sel_SIGLA_UF);
        var lab_SIGLA_UF = document.createElement('div');
        lab_SIGLA_UF.innerHTML = 'SIGLA_UF';
        lab_SIGLA_UF.className = 'filterlabel sigla-uf-label'; // Adiciona a classe sigla-uf-label
        div_SIGLA_UF.appendChild(lab_SIGLA_UF);
        var reset_SIGLA_UF = document.createElement('div');
        reset_SIGLA_UF.innerHTML = 'Limpar Filtros';
        reset_SIGLA_UF.className = 'filterlabel clear-filter-btn';
        reset_SIGLA_UF.onclick = function () {
            var options = document.getElementById("sel_SIGLA_UF").options;
            for (var i = 0; i < options.length; i++) {
                options[i].selected = false;
            }
            filterFunc();
        };
        div_SIGLA_UF.appendChild(reset_SIGLA_UF);


        // Função para carregar arquivos KML/KMZ
        document.getElementById('loadFile').addEventListener('click', function () {
            var fileInput = document.getElementById('fileInput');
            var file = fileInput.files[0];

            if (file) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    var kmlData = e.target.result;

                    // Verifica se o arquivo é KMZ
                    if (file.name.endsWith('.kmz')) {
                        // Usa JSZip para extrair o KML do KMZ
                        JSZip.loadAsync(file).then(function (zip) {
                            var kmlFile = zip.file(/\.kml$/i)[0]; // Encontra o arquivo KML dentro do KMZ
                            if (kmlFile) {
                                kmlFile.async('text').then(function (kmlData) {
                                    var kmlLayer = omnivore.kml.parse(kmlData);
                                    kmlLayer.addTo(map);
                                });
                            } else {
                                alert("Nenhum arquivo KML encontrado no KMZ.");
                            }
                        });
                    } else if (file.name.endsWith('.kml')) {
                        // Carrega diretamente o KML
                        var kmlLayer = omnivore.kml.parse(kmlData);
                        kmlLayer.addTo(map);
                    } else {
                        alert("Formato de arquivo não suportado.");
                    }
                };
                reader.readAsText(file); // Lê o arquivo como texto (KML)
            } else {
                alert("Por favor, selecione um arquivo KML/KMZ.");
            }
        });
    </script>
</body>

</html>